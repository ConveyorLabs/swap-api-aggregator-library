//DEX list
//https://open-api.openocean.finance/v3/8453/dexList

export const chainIdToName = {
  1: "eth",
  56: "bsc",
  324: "zksync",
  137: "polygon",
  8453: "base",
  59144: "linea",
  250: "fantom",
  43114: "avax",
  42161: "arbitrum",
  10: "optimism",
  1285: "moonriver",
  1313161554: "aurora",
  25: "cronos",
  1666600000: "harmony",
  2222: "kava",
  1088: "metis",
  42220: "celo",
  40: "telos",
  1101: "polygon_zkevm",
  58: "ontevm",
  100: "xdai",
  204: "opbnb",
  5000: "mantle",
  169: "manta",
  534352: "scroll",
  81457: "blast",
  34443: "mode",
  30: "rootstock",
};

export const tokenAddressToNativeToken = {
  1: "0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE",
  56: "0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE",
  324: "0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE",
  137: "0x0000000000000000000000000000000000001010",
  8453: "0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE",
  59144: "0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE",
  250: "0x0000000000000000000000000000000000000000",
  43114: "0x0000000000000000000000000000000000000000",
  42161: "0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE",
  10: "0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE",
  1285: "0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE",
  1313161554: "0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE",
  25: "0x0000000000000000000000000000000000000000",
  1666600000: "0x0000000000000000000000000000000000000000",
  2222: "0x0000000000000000000000000000000000000000",
  40: "0x0000000000000000000000000000000000000000",
  1101: "0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE",
  58: "0x0000000000000000000000000000000000000000",
  100: "0x0000000000000000000000000000000000000000",
  204: "0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE",
  5000: "0x0000000000000000000000000000000000000000",
  169: "0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE",
  534352: "0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE",
  81457: "0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE",
  34443: "0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE",
  30: "0xEeeeeEeeeEeEeeEeEeEeeEEEeeeeEeeeeeeeEEeE",
};

export const supportedProtocols = {
  1: {
    0: "uniswap-v2",
    1: "sushiswap",
    3: "aave",
    4: "aave-v2",
    5: "uniswap-v3",
    6: "curve",
    7: "balancer-v2",
    8: "kyberswap",
    9: "shibaswap",
    10: "dodo-v2",
    11: "1inch",
    12: "defiswap",
    14: "synapse",
    15: "swapr",
    17: "curve-v2",
    18: "clipper-rfq",
    19: "dfx",
    22: "bancor-v2",
    23: "bancor-v3",
    24: "pmm1",
    25: "synthetix-atomic",
    26: "psm",
    27: "frax-finance",
    28: "verse",
    29: "pancake-v2",
    31: "kyber-elastic",
    32: "ankr",
    33: "lido",
    34: "rocket-pool",
    35: "stakewise",
    36: "dodo-v1",
    37: "frax-staking",
    38: "aave-v3",
    39: "solidly",
    40: "pancake-v3",
    41: "balancer",
    43: "maverick-v2",
    44: "bancor-carbon",
    47: "trader-joe-v2-1",
    48: "solidly-v3",
    49: "matic-pol-pool",
    50: "hashflow-v3",
    51: "fx",
    52: "native",
    53: "smardex-v2",
    54: "swaap",
    55: "integral-v1",
    56: "etherfi",
  },
  10: {
    1: "uniswap-v3",
    2: "curve",
    3: "synapse",
    4: "zipswap",
    5: "clipper-rfq",
    6: "hashflow",
    7: "velodrome",
    8: "beethoven-x",
    10: "clipper-cove",
    12: "kyber-elastic",
    14: "opx",
    15: "aave-v3",
    16: "mummy",
    17: "overnight",
    18: "sushi-trident",
    19: "sushi-stable",
    20: "velodrome-v2",
    21: "hashflow-v3",
    22: "wombat",
    23: "velodrome-slipstream",
    24: "woofi-v2-1",
  },
  137: {
    1: "quick-swap",
    2: "sushi-swap",
    3: "cometh",
    4: "dfyn",
    5: "poly-zap",
    6: "curve",
    7: "ape-swap",
    8: "waultswap",
    9: "kyber-swap",
    10: "jet-swap",
    12: "synapse",
    13: "poly-cat",
    14: "poly-dex",
    15: "uniswap-v3",
    16: "clipper-rfq",
    17: "aave-v2",
    19: "dodo-v2",
    20: "gravity",
    24: "mesh-swap",
    25: "dystopia",
    28: "frax-finance",
    29: "quick-swap-v3",
    31: "metavault",
    32: "mm-finance",
    34: "dodo-v1",
    35: "aave-v3",
    36: "sushi-trident",
    37: "curve-v2",
    38: "sushi-stable",
    39: "lif3-v2",
    40: "overnight",
    41: "mantis-swap",
    42: "retro",
    43: "crowd-swap",
    44: "smar-dex",
    45: "ape-swap-v3",
    46: "pearl",
    47: "hashflow-v3",
    48: "native",
    49: "swaap",
    50: "virtu-swap",
  },
  42161: {
    1: "sushi-swap",
    3: "uniswap-v3",
    4: "curve",
    5: "dodo-v1",
    6: "synapse",
    7: "swapr",
    8: "gmx",
    10: "kyber-swap",
    11: "curve-v2",
    12: "frax-finance",
    18: "clipper-rfq",
    19: "swap-fish",
    20: "mycelium",
    21: "trader-joe-v2",
    22: "dodo-v2",
    24: "aave-v3",
    25: "zyber-swap",
    26: "zyber-swap-v2",
    27: "sterling",
    28: "solid-lizard",
    29: "zyber-swap-v3",
    30: "mm-finance-v2",
    31: "mm-finance-v3",
    32: "arbidex",
    34: "trader-joe-v2-1",
    35: "arbidex-v3",
    36: "chronos",
    37: "ape-swap",
    38: "ramses",
    39: "overnight",
    40: "sushi-trident",
    41: "sushi-stable",
    42: "camelot-v3",
    43: "mummy",
    44: "crowd-swap",
    45: "sparta-dex",
    46: "smar-dex",
    47: "pancake-v2",
    48: "pancake-v3",
    49: "chronos-v3",
    51: "ramses-cl",
    53: "magicswap",
    55: "hashflow-v3",
    56: "arbswap",
    57: "arbswap-stable",
    58: "native",
    60: "izumi-new",
    61: "swaap",
    64: "horiza",
    65: "camelot",
  },
  56: {
    0: "pancake",
    1: "pancake-v2",
    3: "bakery",
    4: "hyper-jump",
    5: "impossible",
    6: "julswap",
    7: "acryptos",
    8: "ape-swap",
    9: "dodo-v2",
    10: "ellipsis",
    11: "mdex",
    12: "nerve",
    13: "cafeswap",
    14: "panther-swap",
    16: "waultswap",
    17: "babyswap",
    18: "biswap",
    20: "acsi-finance",
    21: "synapse",
    22: "kyber-swap",
    23: "jet-swap",
    26: "dodo-v1",
    28: "knight-swap",
    29: "auto-shark",
    34: "ankr",
    35: "annex",
    37: "izumi",
    38: "nomiswap",
    40: "baby-doge",
    41: "woofi-v2",
    42: "ellipsis-v2",
    43: "thena",
    45: "uniswap-v3",
    46: "pancake-v3",
    47: "thena-fusion",
    48: "lif3",
    49: "lif3-v2",
    50: "pancake-stable-swap",
    51: "trader-joe-v2-1",
    52: "overnight",
    53: "usdfi",
    54: "maverick-v2",
    55: "izumi-new",
    56: "smar-dex",
    57: "ape-swap-v3",
    58: "hashflow-v3",
    59: "native",
  },
  8453: {
    1: "base-swap",
    2: "sushi-swap-v3",
    3: "uniswap-v3",
    4: "balancer-v2",
    5: "maverick-v2",
    6: "alien-base",
    7: "swap-based",
    8: "swap-based-v3",
    9: "synth-swap",
    10: "synth-swap-v3",
    11: "synth-swap-perp",
    12: "aerodrome",
    13: "smar-dex",
    14: "curve",
    15: "curve-v2",
    16: "velocimeter",
    18: "pancake-v2",
    19: "pancake-v3",
    20: "dackie-v2",
    21: "dackie-v3",
    22: "rocket-swap-cc",
    23: "woofi-v2",
    24: "equalizer",
    25: "moon-base",
    26: "area",
    27: "morphex",
    28: "voodoo",
    29: "base-swap-v3",
    30: "citadel-swap",
    32: "velocimeter-graphene",
    33: "clipper-rfq",
    34: "e3",
    35: "uniswap-v2",
  },
};

export function constructQuery(chainId, includeProtocols, excludeProtocols) {
  const allDEXS = supportedProtocols[chainId];
  let includeDEXS = [];
  let excludeDEXS = [];

  if (includeProtocols) {
    const included = includeProtocols
      .split(",")
      .map((protocol) => protocol.trim());
    includeDEXS = Object.keys(allDEXS).filter((key) =>
      included.includes(allDEXS[key])
    );
    excludeDEXS = Object.keys(allDEXS).filter(
      (key) => !includeDEXS.includes(key)
    );
  } else if (excludeProtocols) {
    const excluded = excludeProtocols
      .split(",")
      .map((protocol) => protocol.trim());
    excludeDEXS = Object.keys(allDEXS).filter((key) =>
      excluded.includes(allDEXS[key])
    );
    includeDEXS = Object.keys(allDEXS).filter(
      (key) => !excludeDEXS.includes(key)
    );
  } else {
    includeDEXS = Object.keys(allDEXS);
  }

  return {
    includeDEXS: includeDEXS.join(","),
    excludeDEXS: excludeDEXS.join(","),
  };
}
